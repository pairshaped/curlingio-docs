<!doctype html>
<html lang="en" dir="ltr" class="blog-wrapper blog-post-page plugin-blog plugin-id-default" data-has-hydrated="false">
<head>
<meta charset="UTF-8">
<meta name="generator" content="Docusaurus v3.8.1">
<title data-rh="true">Bilingual by Design | Curling IO</title><meta data-rh="true" name="viewport" content="width=device-width,initial-scale=1"><meta data-rh="true" name="twitter:card" content="summary_large_image"><meta data-rh="true" property="og:image" content="https://curling.io/img/curlingio-logo-small.png"><meta data-rh="true" name="twitter:image" content="https://curling.io/img/curlingio-logo-small.png"><meta data-rh="true" property="og:url" content="https://curling.io/blog/bilingual-by-design"><meta data-rh="true" property="og:locale" content="en"><meta data-rh="true" name="docusaurus_locale" content="en"><meta data-rh="true" name="docusaurus_tag" content="default"><meta data-rh="true" name="docsearch:language" content="en"><meta data-rh="true" name="docsearch:docusaurus_tag" content="default"><meta data-rh="true" property="og:title" content="Bilingual by Design | Curling IO"><meta data-rh="true" name="description" content="Curling IO serves hundreds of clubs across Canada, where English and French aren&#x27;t optional, they&#x27;re official languages. A club in Quebec needs a fully French experience. A national organization like Curling Canada needs both. Rails has mature i18n support and Version 2 has been fully bilingual from the start, but after a decade of maintaining around 10,000 YAML translation keys, we&#x27;ve hit the limits of what that approach can catch: missing keys, missing translations, and unused keys that accumulate silently over time."><meta data-rh="true" property="og:description" content="Curling IO serves hundreds of clubs across Canada, where English and French aren&#x27;t optional, they&#x27;re official languages. A club in Quebec needs a fully French experience. A national organization like Curling Canada needs both. Rails has mature i18n support and Version 2 has been fully bilingual from the start, but after a decade of maintaining around 10,000 YAML translation keys, we&#x27;ve hit the limits of what that approach can catch: missing keys, missing translations, and unused keys that accumulate silently over time."><meta data-rh="true" property="og:type" content="article"><meta data-rh="true" property="article:published_time" content="2026-02-15T00:00:00.000Z"><meta data-rh="true" property="article:tag" content="foundation,i18n,gleam,architecture"><link data-rh="true" rel="icon" href="/img/favicon.ico"><link data-rh="true" rel="canonical" href="https://curling.io/blog/bilingual-by-design"><link data-rh="true" rel="alternate" href="https://curling.io/blog/bilingual-by-design" hreflang="en"><link data-rh="true" rel="alternate" href="https://curling.io/blog/bilingual-by-design" hreflang="x-default"><link data-rh="true" rel="preconnect" href="https://56JJO2SJ1B-dsn.algolia.net" crossorigin="anonymous"><script data-rh="true" type="application/ld+json">{"@context":"https://schema.org","@type":"BlogPosting","@id":"https://curling.io/blog/bilingual-by-design","mainEntityOfPage":"https://curling.io/blog/bilingual-by-design","url":"https://curling.io/blog/bilingual-by-design","headline":"Bilingual by Design","name":"Bilingual by Design","description":"Curling IO serves hundreds of clubs across Canada, where English and French aren't optional, they're official languages. A club in Quebec needs a fully French experience. A national organization like Curling Canada needs both. Rails has mature i18n support and Version 2 has been fully bilingual from the start, but after a decade of maintaining around 10,000 YAML translation keys, we've hit the limits of what that approach can catch: missing keys, missing translations, and unused keys that accumulate silently over time.","datePublished":"2026-02-15T00:00:00.000Z","author":{"@type":"Person","name":"Dave Rapin","description":"Founder @ Curling IO","image":"https://avatars.githubusercontent.com/u/1202?v=4"},"keywords":[],"isPartOf":{"@type":"Blog","@id":"https://curling.io/blog","name":"Curling IO Dev Blog"}}</script><link rel="alternate" type="application/rss+xml" href="/blog/rss.xml" title="Curling IO Dev Blog RSS Feed">
<link rel="alternate" type="application/atom+xml" href="/blog/atom.xml" title="Curling IO Dev Blog Atom Feed">
<link rel="alternate" type="application/json" href="/blog/feed.json" title="Curling IO Dev Blog JSON Feed">

<link rel="preconnect" href="https://www.google-analytics.com">
<link rel="preconnect" href="https://www.googletagmanager.com">
<script async src="https://www.googletagmanager.com/gtag/js?id=AW-1016652572"></script>
<script>function gtag(){dataLayer.push(arguments)}window.dataLayer=window.dataLayer||[],gtag("js",new Date),gtag("config","AW-1016652572",{})</script>



<link rel="search" type="application/opensearchdescription+xml" title="Curling IO" href="/opensearch.xml"><link rel="stylesheet" href="/assets/css/styles.61e4d3f7.css">
<script src="/assets/js/runtime~main.4bf002bd.js" defer="defer"></script>
<script src="/assets/js/main.e1e43144.js" defer="defer"></script>
</head>
<body class="navigation-with-keyboard">
<svg xmlns="http://www.w3.org/2000/svg" style="display: none;"><defs>
<symbol id="theme-svg-external-link" viewBox="0 0 24 24"><path fill="currentColor" d="M21 13v10h-21v-19h12v2h-10v15h17v-8h2zm3-12h-10.988l4.035 4-6.977 7.07 2.828 2.828 6.977-7.07 4.125 4.172v-11z"/></symbol>
</defs></svg>
<script>!function(){var t="light";var e=function(){try{return new URLSearchParams(window.location.search).get("docusaurus-theme")}catch(t){}}()||function(){try{return window.localStorage.getItem("theme")}catch(t){}}();document.documentElement.setAttribute("data-theme",e||t),document.documentElement.setAttribute("data-theme-choice",e||t)}(),function(){try{const c=new URLSearchParams(window.location.search).entries();for(var[t,e]of c)if(t.startsWith("docusaurus-data-")){var a=t.replace("docusaurus-data-","data-");document.documentElement.setAttribute(a,e)}}catch(t){}}()</script><div id="__docusaurus"><div role="region" aria-label="Skip to main content"><a class="skipToContent_fXgn" href="#__docusaurus_skipToContent_fallback">Skip to main content</a></div><nav aria-label="Main" class="theme-layout-navbar navbar navbar--fixed-top"><div class="navbar__inner"><div class="theme-layout-navbar-left navbar__items"><button aria-label="Toggle navigation bar" aria-expanded="false" class="navbar__toggle clean-btn" type="button"><svg width="30" height="30" viewBox="0 0 30 30" aria-hidden="true"><path stroke="currentColor" stroke-linecap="round" stroke-miterlimit="10" stroke-width="2" d="M4 7h22M4 15h22M4 23h22"></path></svg></button><a class="navbar__brand" href="/"><div class="navbar__logo"><img src="/img/curlingio-logo-small.png" alt="Curling IO Logo" class="themedComponent_mlkZ themedComponent--light_NVdE"><img src="/img/curlingio-logo-small.png" alt="Curling IO Logo" class="themedComponent_mlkZ themedComponent--dark_xIcU"></div><b class="navbar__title text--truncate">Curling IO</b></a></div><div class="theme-layout-navbar-right navbar__items navbar__items--right"><a class="navbar__item navbar__link" href="/docs/getting-started/curling-club-managers">Docs</a><a aria-current="page" class="navbar__item navbar__link navbar__link--active" href="/blog">Blog</a><a href="https://clubs.curling.io" target="_blank" rel="noopener noreferrer" class="navbar__item navbar__link">Find your Club<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a><div class="navbarSearchContainer_Bca1"><button type="button" class="DocSearch DocSearch-Button" aria-label="Search (Command+K)"><span class="DocSearch-Button-Container"><svg width="20" height="20" class="DocSearch-Search-Icon" viewBox="0 0 20 20" aria-hidden="true"><path d="M14.386 14.386l4.0877 4.0877-4.0877-4.0877c-2.9418 2.9419-7.7115 2.9419-10.6533 0-2.9419-2.9418-2.9419-7.7115 0-10.6533 2.9418-2.9419 7.7115-2.9419 10.6533 0 2.9419 2.9418 2.9419 7.7115 0 10.6533z" stroke="currentColor" fill="none" fill-rule="evenodd" stroke-linecap="round" stroke-linejoin="round"></path></svg><span class="DocSearch-Button-Placeholder">Search</span></span><span class="DocSearch-Button-Keys"></span></button></div></div></div><div role="presentation" class="navbar-sidebar__backdrop"></div></nav><div id="__docusaurus_skipToContent_fallback" class="theme-layout-main main-wrapper mainWrapper_z2l0"><div class="container margin-vert--lg"><div class="row"><aside class="col col--3"><nav class="sidebar_re4s thin-scrollbar" aria-label="Blog recent posts navigation"><div class="sidebarItemTitle_pO2u margin-bottom--md">Recent posts</div><div role="group"><h3 class="yearGroupHeading_rMGB">2026</h3><ul class="sidebarItemList_Yudw clean-list"><li class="sidebarItem__DBe"><a aria-current="page" class="sidebarItemLink_mo7H sidebarItemLinkActive_I1ZP" href="/blog/bilingual-by-design">Bilingual by Design</a></li><li class="sidebarItem__DBe"><a class="sidebarItemLink_mo7H" href="/blog/the-next-version-of-curling-io">The Next Version of Curling IO</a></li></ul></div></nav></aside><main class="col col--7"><article class=""><header><h1 class="title_f1Hy">Bilingual by Design</h1><div class="container_mt6G margin-vert--md"><time datetime="2026-02-15T00:00:00.000Z">February 15, 2026</time> · <!-- -->7 min read</div><div class="margin-top--md margin-bottom--sm row"><div class="col col--12 authorCol_Hf19"><div class="avatar margin-bottom--sm"><img class="avatar__photo authorImage_XqGP" src="https://avatars.githubusercontent.com/u/1202?v=4" alt="Dave Rapin"><div class="avatar__intro authorDetails_lV9A"><div class="avatar__name"><span class="authorName_yefp">Dave Rapin</span></div><small class="authorTitle_nd0D" title="Founder @ Curling IO">Founder @ Curling IO</small><div class="authorSocials_rSDt"></div></div></div></div></div></header><div id="__blog-post-container" class="markdown"><p>Curling IO serves hundreds of clubs across Canada, where English and French aren&#x27;t optional, they&#x27;re official languages. A club in Quebec needs a fully French experience. A national organization like Curling Canada needs both. Rails has mature i18n support and Version 2 has been fully bilingual from the start, but after a decade of maintaining around 10,000 YAML translation keys, we&#x27;ve hit the limits of what that approach can catch: missing keys, missing translations, and unused keys that accumulate silently over time.</p>
<p>In Version 3, we wanted compile-time guarantees that make those problems impossible. This post covers how we designed the i18n system, why we split it into two layers, and what we changed from Version 2.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="two-kinds-of-text-two-different-systems">Two Kinds of Text, Two Different Systems<a href="#two-kinds-of-text-two-different-systems" class="hash-link" aria-label="Direct link to Two Kinds of Text, Two Different Systems" title="Direct link to Two Kinds of Text, Two Different Systems">​</a></h2>
<p>Every bilingual web application has two fundamentally different kinds of text:</p>
<ol>
<li><strong>App labels</strong>: static UI strings like &quot;Leagues&quot;, &quot;Contact&quot;, &quot;Email&quot;. These are written by developers and change at deploy time.</li>
<li><strong>Content</strong>: user-entered data like league names, summaries, and descriptions. These are entered by club managers and may change at any time.</li>
</ol>
<table><thead><tr><th></th><th>App Labels</th><th>Content</th></tr></thead><tbody><tr><td><strong>Who writes it</strong></td><td>Developers</td><td>Club managers</td></tr><tr><td><strong>When it changes</strong></td><td>At deploy time</td><td>At any time</td></tr><tr><td><strong>Where it lives</strong></td><td>Compiled code</td><td>Database</td></tr><tr><td><strong>Scope</strong></td><td>Global (all clubs)</td><td>Per-record</td></tr></tbody></table>
<p>In Version 2, app labels came from Rails i18n YAML files loaded at boot, and content was stored in per-language database columns (<code>name_en</code>, <code>name_fr</code>, <code>summary_en</code>, <code>summary_fr</code>). This worked, but had pain points we wanted to address.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="what-version-2-taught-us">What Version 2 Taught Us<a href="#what-version-2-taught-us" class="hash-link" aria-label="Direct link to What Version 2 Taught Us" title="Direct link to What Version 2 Taught Us">​</a></h2>
<p><strong>The YAML files grew unwieldy.</strong> Over the years, our <code>en.yml</code> and <code>fr.yml</code> files accumulated thousands of keys each. Finding unused keys was a manual process. Ensuring every English key had a French counterpart required discipline that occasionally slipped, resulting in untranslated UI elements showing up in production as blank strings or key paths like <code>en.registrations.confirm_button</code>.</p>
<p><strong>Per-language columns didn&#x27;t scale.</strong> The <code>leagues</code> table in Version 2 has <code>name_en</code>, <code>name_fr</code>, <code>summary_en</code>, <code>summary_fr</code>, <code>description_en</code>, <code>description_fr</code>, <code>post_registration_message_en</code>, <code>post_registration_message_fr</code>, <code>required_reading_en</code>, <code>required_reading_fr</code>. That&#x27;s 10 columns just for translated text on one table. Every new translatable field requires a migration adding two columns. If we ever added a third language, it would mean another column for every translatable field on every table.</p>
<p><strong>Blank vs. missing was ambiguous.</strong> When <code>name_fr</code> was empty, did the manager intentionally leave it blank, or did they just not get around to translating it? The system couldn&#x27;t tell the difference.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="version-3-app-label-translations">Version 3: App Label Translations<a href="#version-3-app-label-translations" class="hash-link" aria-label="Direct link to Version 3: App Label Translations" title="Direct link to Version 3: App Label Translations">​</a></h2>
<p>App labels are compiled directly into the application. No database, no YAML files, no runtime file loading. Just Gleam code.</p>
<p>The structure is simple:</p>
<div class="language-text codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-text codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">translations/keys.gleam   constants for every key</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">translations/en.gleam     English values</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">translations/fr.gleam     French values</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">translations.gleam        builds the lookup, provides t()</span><br></span></code></pre></div></div>
<p><strong>Key constants</strong> are <code>pub const</code> values in <code>keys.gleam</code>. This is extra code we&#x27;ve added specifically to get compile-time correctness. Every key used in a page or language file references these constants, so a misspelled key is a compile error rather than a silent runtime bug:</p>
<div class="language-gleam codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gleam codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub const leagues = &quot;leagues&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub const contact = &quot;contact&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub const email_label = &quot;email_label&quot;</span><br></span></code></pre></div></div>
<p>Notice these are flat, no nesting. In Version 2, Rails i18n keys were nested by namespace (<code>en.registrations.confirm_button</code>, <code>en.leagues.index.title</code>, etc.). In practice, the nesting added complexity without much benefit: keys were harder to grep for, reorganizing namespaces meant touching multiple files, and deeply nested YAML was error-prone to edit. Flat keys are simpler to search, simpler to maintain, and work just as well with thousands of entries.</p>
<p><strong>Language files</strong> map those constants to translated values:</p>
<div class="language-gleam codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gleam codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// en.gleam</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.leagues, &quot;Leagues&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.contact, &quot;Contact&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.email_label, &quot;Email&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// fr.gleam</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.leagues, &quot;Ligues&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.contact, &quot;Contact&quot;),</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">#(k.email_label, &quot;Courriel&quot;),</span><br></span></code></pre></div></div>
<p>At startup, <code>translations.build()</code> assembles these into a nested dictionary (outer key is language code, inner key is translation key). This dictionary gets stored in the application context and threaded into every request. Lookup is two hash table reads, effectively instant.</p>
<p><strong>In pages</strong>, we partial-apply the lookup function for the current language:</p>
<div class="language-gleam codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gleam codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">let t = t.t(rc.translations, rc.lang, _)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Then just call t() with key constants</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">element.text(t(k.leagues))   // &quot;Leagues&quot; or &quot;Ligues&quot;</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">element.text(t(k.contact))  // &quot;Contact&quot; (same in both languages!)</span><br></span></code></pre></div></div>
<p>This is clean, type-safe, and impossible to mess up at runtime. If a key is missing from a language file, the UI shows <code>&quot;[missing: postal_code_label]&quot;</code> so it&#x27;s immediately clear something needs to be fixed. Much better than a silent blank.</p>
<h3 class="anchor anchorWithStickyNavbar_LWe7" id="catching-problems-at-compile-and-test-time">Catching Problems at Compile and Test Time<a href="#catching-problems-at-compile-and-test-time" class="hash-link" aria-label="Direct link to Catching Problems at Compile and Test Time" title="Direct link to Catching Problems at Compile and Test Time">​</a></h3>
<p>Using constants instead of raw strings means a typo like <code>t(k.legues)</code> is a compile error because the constant doesn&#x27;t exist. That alone eliminates an entire class of bugs we dealt with in Version 2.</p>
<p>We also have a test that verifies every English key has a French counterpart and vice versa:</p>
<div class="language-gleam codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gleam codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">pub fn should_have_same_keys_in_en_and_fr_test() {</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let en_keys = en.all() |&gt; dict.keys() |&gt; set.from_list()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  let fr_keys = fr.all() |&gt; dict.keys() |&gt; set.from_list()</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  set.difference(en_keys, fr_keys) |&gt; should.equal(set.new())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">  set.difference(fr_keys, en_keys) |&gt; should.equal(set.new())</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">}</span><br></span></code></pre></div></div>
<p>Adding a key to English without adding it to French fails the test suite. No more discovering untranslated strings in production.</p>
<p>We also have a script that checks for keys defined but never actually used in any page or template (dead key detection). Between the compiler, the parity test, and the unused key checker, translation problems are caught long before they reach users.</p>
<p>Notice how small the test surface is. Because Gleam&#x27;s type system handles so much at compile time, our tests focus on validating design decisions and business logic rather than guarding against runtime surprises. In Version 2 with Rails, a lot of test effort goes toward catching things that a type system would prevent: nil values, wrong argument types, missing method calls. In Gleam, the compiler handles all of that, so our translation tests are purely about the logic we actually care about: do all languages have the same keys? Does the fallback behavior work correctly?</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="version-3-content-translations">Version 3: Content Translations<a href="#version-3-content-translations" class="hash-link" aria-label="Direct link to Version 3: Content Translations" title="Direct link to Version 3: Content Translations">​</a></h2>
<p>Content translations (the user-entered data) take a different approach. Instead of per-language columns, each translatable table has a single <code>translations</code> JSON column:</p>
<div class="language-json codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-json codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;fr&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token punctuation" style="color:rgb(199, 146, 234)">{</span><span class="token property">&quot;name&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Ligue du lundi&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">,</span><span class="token plain"> </span><span class="token property">&quot;summary&quot;</span><span class="token operator" style="color:rgb(137, 221, 255)">:</span><span class="token plain"> </span><span class="token string" style="color:rgb(195, 232, 141)">&quot;Résumé en français&quot;</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><span class="token punctuation" style="color:rgb(199, 146, 234)">}</span><br></span></code></pre></div></div>
<p>The primary language value lives in the regular column (<code>name</code>, <code>summary</code>). Only secondary language overrides go in the JSON. This means:</p>
<ul>
<li><strong>Primary language reads are free.</strong> No JSON parsing needed, just read the column.</li>
<li><strong>No translations? No overhead.</strong> The column is <code>NULL</code>.</li>
<li><strong>Adding translatable fields requires zero schema changes.</strong> Just start putting the field name in the JSON.</li>
<li><strong>Adding a third language is just another key in the JSON.</strong> No migration needed.</li>
</ul>
<p>The resolution logic is straightforward: if the user is viewing in the primary language, return the regular column. If they&#x27;re viewing in a secondary language, look it up in the JSON. If it&#x27;s not there, fall back to the primary language value. Every field degrades gracefully. A missing French translation shows the English text rather than nothing.</p>
<div class="language-gleam codeBlockContainer_Ckt0 theme-code-block" style="--prism-color:#bfc7d5;--prism-background-color:#292d3e"><div class="codeBlockContent_QJqH"><pre tabindex="0" class="prism-code language-gleam codeBlock_bY9V thin-scrollbar" style="color:#bfc7d5;background-color:#292d3e"><code class="codeBlockLines_e6Vv"><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Parse once per record</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let parsed = i18n.parse(league.data.translations)</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain" style="display:inline-block"></span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">// Resolve each field for the current language</span><br></span><span class="token-line" style="color:#bfc7d5"><span class="token plain">let name = i18n.resolve(league.data.name, parsed, lang, primary_lang, &quot;name&quot;)</span><br></span></code></pre></div></div>
<p>This solves the blank-vs-missing ambiguity from Version 2: if a field isn&#x27;t in the <code>translations</code> JSON, it simply hasn&#x27;t been translated yet, and the primary language value is shown. No guessing.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="language-routing">Language Routing<a href="#language-routing" class="hash-link" aria-label="Direct link to Language Routing" title="Direct link to Language Routing">​</a></h2>
<p>Language selection comes from the URL path, not cookies or browser headers. This keeps things deterministic and shareable. A French URL always shows French content:</p>
<ul>
<li><code>/leagues</code> - primary language (no prefix)</li>
<li><code>/fr/leagues</code> - French (secondary language prefix)</li>
<li><code>/en/leagues</code> - redirects to <code>/leagues</code> (primary language never gets a prefix)</li>
</ul>
<p>The router extracts the language from the first path segment, stores it in the request context, and every page and API handler downstream uses it. Clean, predictable, and great for SEO.</p>
<h2 class="anchor anchorWithStickyNavbar_LWe7" id="whats-next">What&#x27;s Next<a href="#whats-next" class="hash-link" aria-label="Direct link to What&#x27;s Next" title="Direct link to What&#x27;s Next">​</a></h2>
<p>The i18n foundation is in place. As we build out more features (admin interfaces, registration flows, email notifications) we&#x27;ll add keys to the app label system and the <code>translations</code> JSON column to more tables. The system is designed to scale to thousands of keys without any architectural changes.</p>
<hr>
<p><em>This is Part 2 of the Curling IO Foundation series. Next up: passwordless authentication and multi-email support.</em></p></div><footer class="docusaurus-mt-lg"><div class="row margin-top--sm theme-blog-footer-edit-meta-row"><div class="col"><b>Tags:</b><ul class="tags_jXut padding--none margin-left--sm"><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/foundation">foundation</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/i-18-n">i18n</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/gleam">gleam</a></li><li class="tag_QGVx"><a rel="tag" class="tag_zVej tagRegular_sFm0" href="/blog/tags/architecture">architecture</a></li></ul></div></div></footer></article><nav class="pagination-nav docusaurus-mt-lg" aria-label="Blog post page navigation"><a class="pagination-nav__link pagination-nav__link--next" href="/blog/the-next-version-of-curling-io"><div class="pagination-nav__sublabel">Older post</div><div class="pagination-nav__label">The Next Version of Curling IO</div></a></nav></main><div class="col col--2"><div class="tableOfContents_bqdL thin-scrollbar"><ul class="table-of-contents table-of-contents__left-border"><li><a href="#two-kinds-of-text-two-different-systems" class="table-of-contents__link toc-highlight">Two Kinds of Text, Two Different Systems</a></li><li><a href="#what-version-2-taught-us" class="table-of-contents__link toc-highlight">What Version 2 Taught Us</a></li><li><a href="#version-3-app-label-translations" class="table-of-contents__link toc-highlight">Version 3: App Label Translations</a><ul><li><a href="#catching-problems-at-compile-and-test-time" class="table-of-contents__link toc-highlight">Catching Problems at Compile and Test Time</a></li></ul></li><li><a href="#version-3-content-translations" class="table-of-contents__link toc-highlight">Version 3: Content Translations</a></li><li><a href="#language-routing" class="table-of-contents__link toc-highlight">Language Routing</a></li><li><a href="#whats-next" class="table-of-contents__link toc-highlight">What&#39;s Next</a></li></ul></div></div></div></div></div><footer class="theme-layout-footer footer footer--dark"><div class="container container-fluid"><div class="row footer__links"><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Docs</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/docs/getting-started/curling-club-managers">For Clubs</a></li><li class="footer__item"><a class="footer__link-item" href="/docs/for-curlers/how-do-i-login">For Curlers</a></li><li class="footer__item"><a href="https://www.youtube.com/@curlingio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Tutorial Videos<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">Community</div><ul class="footer__items clean-list"><li class="footer__item"><a href="https://curling.canny.io/" target="_blank" rel="noopener noreferrer" class="footer__link-item">Feedback<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://twitter.com/curlingio" target="_blank" rel="noopener noreferrer" class="footer__link-item">Twitter<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li><li class="footer__item"><a href="https://curling.ca" target="_blank" rel="noopener noreferrer" class="footer__link-item">Curling Canada<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div><div class="theme-layout-footer-column col footer__col"><div class="footer__title">More</div><ul class="footer__items clean-list"><li class="footer__item"><a class="footer__link-item" href="/blog">Blog</a></li><li class="footer__item"><a class="footer__link-item" href="/terms">Terms</a></li><li class="footer__item"><a class="footer__link-item" href="/privacy">Privacy</a></li><li class="footer__item"><a href="https://curlingschedules.com" target="_blank" rel="noopener noreferrer" class="footer__link-item">Curling Schedules<svg width="13.5" height="13.5" aria-hidden="true" class="iconExternalLink_nPIU"><use href="#theme-svg-external-link"></use></svg></a></li></ul></div></div><div class="footer__bottom text--center"><div class="footer__copyright">Copyright © 2026 Curling IO</div></div></div></footer></div>
</body>
</html>